<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vey Library Docs</title>
<style>
/* --- General Styles --- */
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background-color: #121212;
    color: #eee;
    display: flex;
}
a {
    text-decoration: none;
    color: inherit;
}

/* --- Sidebar --- */
.sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 220px;
    height: 100%;
    background-color: #1b1b1b;
    display: flex;
    flex-direction: column;
    padding-top: 20px;
}
.sidebar button {
    background: none;
    border: none;
    color: #aaa;
    padding: 12px 20px;
    text-align: left;
    cursor: pointer;
    font-size: 16px;
    transition: 0.2s;
}
.sidebar button.active, .sidebar button:hover {
    background-color: #333;
    color: #fff;
}

/* --- Main Content --- */
.main-content {
    margin-left: 240px;
    padding: 2rem;
    flex: 1;
}
h1.section-title {
    font-size: 2rem;
    margin-top: 3rem;
    margin-bottom: 1rem;
    border-bottom: 2px solid #444;
    padding-bottom: 0.3rem;
}

/* --- Code Blocks --- */
pre {
    background-color: #222;
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    margin-bottom: 2rem;
    position: relative;
    font-family: monospace;
}
pre::before {
    content: "Vey";
    position: absolute;
    top: 6px;
    right: 6px;
    background: rgba(255,255,255,0.2);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.75rem;
}
.copy-btn {
    position: absolute;
    bottom: 6px;
    right: 6px;
    width: 20px;
    height: 20px;
    cursor: pointer;
    border: none;
    background: none;
}
.copy-btn::before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    border: 2px solid #ccc;
    border-radius: 3px;
    position: absolute;
    top: 0;
    left: 0;
}
.copy-btn::after {
    content: "";
    display: block;
    width: 12px;
    height: 12px;
    border: 2px solid #ccc;
    border-radius: 2px;
    position: absolute;
    top: -4px;
    left: 4px;
}

/* --- Smooth Scroll --- */
html {
    scroll-behavior: smooth;
}
</style>
</head>
<body>

<div class="sidebar">
    <button data-target="variables">Vey</button>
    <button data-target="functions">Functions</button>
    <button data-target="controlflow">Control Flow</button>
    <button data-target="loops">Loops</button>
    <button data-target="datastructures">Data Structures</button>
    <button data-target="library">Library</button>
</div>

<div class="main-content">

<section id="variables">
<h1 class="section-title">Variables</h1>
<pre>
let name = "Vey"
let version = 0.1
let active = true
</pre>
</section>

<section id="functions">
<h1 class="section-title">Functions</h1>
<pre>
func greet(person) {
    print("Hello, " + person + "!")
}

greet("World")
</pre>
</section>

<section id="controlflow">
<h1 class="section-title">Control Flow</h1>
<pre>
let x = 10

if x > 5 {
    print("Greater than 5")
} else {
    print("5 or less")
}
</pre>
</section>

<section id="loops">
<h1 class="section-title">Loops</h1>
<pre>
for i in 1..5 {
    print("Count: " + i)
}
</pre>
</section>

<section id="datastructures">
<h1 class="section-title">Data Structures</h1>
<pre>
let fruits = ["apple", "banana", "cherry"]

for fruit in fruits {
    print(fruit)
}
</pre>
</section>

<section id="library">
<h1 class="section-title">Library</h1>
<pre>
let veyexecutor === require(library, "Vey")
</pre>
</section>

</div>

<script>
// Smooth scrolling & sidebar highlight
const sections = document.querySelectorAll('section');
const buttons = document.querySelectorAll('.sidebar button');

function setActiveButton() {
    let index = sections.length - 1;
    for(let i=0; i<sections.length; i++){
        const rect = sections[i].getBoundingClientRect();
        if(rect.top - 60 <= 0) index = i;
        else break;
    }
    buttons.forEach(btn => btn.classList.remove('active'));
    buttons[index].classList.add('active');
}

window.addEventListener('scroll', setActiveButton);

// Click sidebar to scroll
buttons.forEach(btn => {
    btn.addEventListener('click', () => {
        document.getElementById(btn.dataset.target).scrollIntoView({behavior: 'smooth', block: 'start'});
    });
});

// Clipboard buttons
document.querySelectorAll('pre').forEach(pre => {
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.onclick = () => navigator.clipboard.writeText(pre.textContent.replace("Vey","").trim());
    pre.appendChild(btn);
});
</script>

</body>
</html>
