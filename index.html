<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vey Programming Language</title>
<style>
  body { margin:0; font-family: 'Segoe UI', sans-serif; background:#121212; color:#eee; transition: background 0.3s, color 0.3s;}
  header { padding:1rem; background:#1f1f1f; font-size:1.5rem; font-weight:bold; text-align:center;}
  nav { position:fixed; top:0; left:0; height:100%; width:220px; background:#1b1b1b; padding-top:60px; box-shadow:2px 0 10px rgba(0,0,0,0.5);}
  nav a { display:block; color:#aaa; padding:0.8rem; text-decoration:none; transition:0.2s;}
  nav a:hover { background:#333; color:#fff;}
  main { margin-left:240px; padding:2rem;}
  h2 { border-bottom:2px solid #444; padding-bottom:0.3rem; margin-top:2rem; }
  pre { background:#222; padding:1rem; border-radius:6px; position:relative; overflow-x:auto; margin-top:1rem;}
  .vey-label { position:absolute; top:6px; right:6px; background:rgba(255,255,255,0.2); padding:2px 6px; border-radius:4px; font-size:0.75rem;}
  .copy-btn { position:absolute; bottom:6px; right:6px; background:rgba(200,200,200,0.2); border:none; padding:3px 6px; font-size:0.75rem; cursor:pointer; border-radius:4px;}
  #editor { width:100%; height:200px; background:#222; color:#eee; border:none; border-radius:6px; padding:1rem; font-family:monospace; resize:vertical; }
  #run-btn { margin-top:0.5rem; padding:0.5rem 1rem; border:none; border-radius:4px; cursor:pointer; background:#444; color:#eee; }
  #output { background:#111; color:#0f0; padding:1rem; margin-top:0.5rem; border-radius:6px; font-family:monospace; white-space:pre-wrap;}
</style>
</head>
<body>
<header>Vey — Minimal Programming Language</header>
<nav>
  <a href="#intro">Home</a>
  <a href="#docs">Docs</a>
  <a href="#examples">Examples</a>
  <a href="#playground">Playground</a>
  <a href="#roadmap">Roadmap</a>
  <a href="#about">About</a>
</nav>
<main>
  <section id="intro">
    <h2># Introduction</h2>
    <p>Vey is a lightweight experimental programming language designed for clarity, minimalism, and ease of learning. Explore syntax, run examples, and try your own code below.</p>
  </section>

  <section id="docs">
    <h2># Docs</h2>
    <pre><span class="vey-label">Vey</span>
let x = 5
print("x =", x)
</pre>
    <pre><span class="vey-label">Vey</span>
func greet(name)
    print("Hello " + name)
end
</pre>
  </section>

  <section id="examples">
    <h2># Examples</h2>
    <pre><span class="vey-label">Vey</span>
# Fibonacci
let a = 0
let b = 1
for i in 1..10
    print(a)
    let temp = a
    a = b
    b = temp + b
end
</pre>
  </section>

  <section id="playground">
    <h2># Playground</h2>
    <textarea id="editor" placeholder="Write Vey code here..."></textarea>
    <button id="run-btn">Run Code</button>
    <div id="output"></div>
  </section>

  <section id="roadmap">
    <h2># Roadmap</h2>
    <ul>
      <li>Variables & types — ✅</li>
      <li>Functions — ✅</li>
      <li>Loops & conditionals — ✅</li>
      <li>Modules & imports — Planned</li>
      <li>GUI / Web integration — Planned</li>
    </ul>
  </section>

  <section id="about">
    <h2># About</h2>
    <p>Vey was inspired by Lua, Python, and Rust. Its goal is to provide a minimal, readable, and experimental language for learning and projects.</p>
  </section>
</main>

<script>
// Copy buttons for pre blocks
document.querySelectorAll("pre").forEach(pre => {
  const btn = document.createElement("button");
  btn.className = "copy-btn";
  btn.textContent = "Copy";
  btn.onclick = () => { navigator.clipboard.writeText(pre.textContent.replace("Vey","").trim()); };
  pre.appendChild(btn);
});

// Auto-indent & Tab support
const editor = document.getElementById("editor");
editor.addEventListener("keydown", e => {
  if(e.key === "Tab"){
    e.preventDefault();
    const start = editor.selectionStart;
    const end = editor.selectionEnd;
    editor.value = editor.value.substring(0,start) + "    " + editor.value.substring(end);
    editor.selectionStart = editor.selectionEnd = start + 4;
  }
  if(e.key === "Enter"){
    e.preventDefault();
    const start = editor.selectionStart;
    const line = editor.value.substring(0,start).split("\n").pop();
    const indent = line.match(/^(\s*)/)[0];
    let extra = "";
    if(/\b(then|func|{)$/.test(line.trim())) extra = "    ";
    editor.value = editor.value.substring(0,start) + "\n" + indent + extra + editor.value.substring(editor.selectionEnd);
    editor.selectionStart = editor.selectionEnd = start + 1 + indent.length + extra.length;
  }
});

// Minimal Vey interpreter
function runVey(code){
  const lines = code.split("\n");
  const vars = {};
  let output = "";
  const stack = [];
  
  function evalExpr(expr){
    expr = expr.trim();
    if(/^".*"$/.test(expr)) return expr.slice(1,-1);
    if(/^\d+$/.test(expr)) return parseInt(expr);
    if(vars[expr] !== undefined) return vars[expr];
    return expr;
  }
  
  for(let i=0;i<lines.length;i++){
    let line = lines[i].trim();
    if(line.startsWith("print(") && line.endsWith(")")){
      const inside = line.slice(6,-1);
      output += evalExpr(inside) + "\n";
    } else if(line.startsWith("let ")){
      const parts = line.slice(4).split("=");
      const name = parts[0].trim();
      const value = evalExpr(parts[1]);
      vars[name] = value;
    }
    // TODO: Implement if/then/end, for loops, functions
  }
  return output;
}

document.getElementById("run-btn").addEventListener("click", ()=>{
  try{
    document.getElementById("output").textContent = runVey(editor.value);
  }catch(e){
    document.getElementById("output").textContent = "Error: " + e.message;
  }
});
</script>
</body>
</html>
